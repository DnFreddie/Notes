<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>the_only_journal_worth_reading | ExampleSite</title>
<meta name=keywords content><meta name=description content="Everyone has that moment in their life when they think, &#34;Maybe today is the day I'll start journaling.&#34; It's just a fleeting thought. You pick up the pen, only to realize that after a long day, you struggle to recall anything significant. Or worse, there's an overwhelming amount to write about, leaving you torn between writing it all and watching TV with your favorite anime girlfriend. *Fortunately, we have computers*... Computers log everything Booting, crashes, and now even your browser activity."><meta name=author content="Me"><link rel=canonical href=http://localhost:1313/posts/posts/the_only_journal_worth_reading/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/posts/the_only_journal_worth_reading/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">the_only_journal_worth_reading</h1><div class=post-meta><span title='2024-07-22 09:10:24 +0200 CEST'>July 22, 2024</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1520 words&nbsp;·&nbsp;Me</div></header><div class=post-content><pre><code>Everyone has that moment in their life when they think, &quot;Maybe today is the day I'll start journaling.&quot; It's just a fleeting thought. You pick up the pen, only to realize that after a long day, you struggle to recall anything significant. Or worse, there's an overwhelming amount to write about, leaving you torn between writing it all and watching TV with your favorite anime girlfriend. *Fortunately, we have computers*...
</code></pre><h3 id=computers-log-everything>Computers log everything<a hidden class=anchor aria-hidden=true href=#computers-log-everything>#</a></h3><p><img loading=lazy src=/blog_imgs/Microsoft-Recall-Title.jpg alt="Micorsoft recall"></p><p>Booting, crashes, and now even your browser activity. Recently, Microsoft announced their new killer feature called Copilot <a href=https://support.microsoft.com/en-gb/windows/privacy-and-control-over-your-recall-experience-d404f672-7647-41e5-886c-a3c59680af15>Recall</a>.
It&rsquo;s a personal LLM that logs every keystroke and every action you do on your computer, essentially taking screenshots every 5 seconds if the content on your desktop changes.</p><p>Microsoft even designed a dedicated chip to support this AI model, called the Turbocharged NPU.</p><p>Here are the requirements:</p><p>-A Copilot Plus PC with the special chip</p><p>-16 GB of RAM</p><p>-8 processors</p><p>-256 GB storage</p><p>-50 GB memory storage</p><p>-An additional 25 GB for all the screenshots</p><p>With this, you won&rsquo;t have to remember anything. A tool that, after six months, will recall what nasty OnlyFans video you watched or why your friend was wrong about Bill Gates.</p><p><em>This is a bad example of logging</em>.</p><p>It&rsquo;s not like capturing moments isn&rsquo;t important, but sometimes it&rsquo;s better to forget.</p><p>If you watched <a href=https://www.rottentomatoes.com/tv/black_mirror/s01/e03>&lsquo;The Entire History of You&rsquo;</a>, the third episode of the first season of <em>Black Mirror</em>, you&rsquo;ll quickly understand how destructive this can be for human psychology.</p><p>But it&rsquo;s easy; we can always go to therapy.</p><p>What&rsquo;s more worrying is that someone else can see everything we do. Although Microsoft claims that this will remain only on your local computer <em>(for now!)</em>, this doesn&rsquo;t make it less vulnerable.</p><p><strong>It&rsquo;s also closed-source</strong>, so you don’t have any idea whether this is true. Imagine a malicious actor getting access to the contents of this vector database.</p><p>They would have literally everything. Considering it&rsquo;s a new feature, there will likely be many bugs and vulnerabilities. It&rsquo;s already possible with just two lines of code, as they’re just files in <strong>AppData</strong>, in the new <strong>CoreAIPlatform</strong> folder.</p><p>For more information, check this article: <a href=https://doublepulsar.com/recall-stealing-everything-youve-ever-typed-or-viewed-on-your-own-windows-pc-is-now-possible-da3e12e9465e>How to do it</a>.</p><p>Today, however, I want to present a more positive side of logging, the balance between privacy and functionality. Please welcome our todays guest , <strong>journalctl</strong>.</p><p><strong>The only journal worth reading</strong></p><h3 id=a-small-introduction>A Small Introduction<a hidden class=anchor aria-hidden=true href=#a-small-introduction>#</a></h3><p><img loading=lazy src=/blog_imgs/logging_meeme.jpeg alt="We need more logs meme"></p><p><strong>Journalctl</strong> is an honorable member of the systemd tools suite.</p><p>It manages the logging portion of all the units.</p><p>It&rsquo;s important to know that its <strong>logs are binary</strong>.</p><p>This means you won&rsquo;t be able to see them directly, but it also saves you quite a lot of space.</p><p>If you want to know whether <strong>journalctl</strong> is enabled, check out <em>/etc/systemd/journald.conf</em>.</p><p>You should have Storage set to <strong>persistent</strong>.</p><p>If not, change this and run <strong>sudo systemctl reload systemd-journald</strong>.</p><p>(<em>because <strong>journalctl</strong> is also a unit by itself</em>)</p><p>If you&rsquo;re ever worried that <strong>journalctl</strong> will take all your space, try this command to realize how little space that amount of information takes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl --disk-usage
</span></span></code></pre></div><h3 id=how-does-journalctl-think>How Does journalctl Think?<a hidden class=anchor aria-hidden=true href=#how-does-journalctl-think>#</a></h3><p><img loading=lazy src=/blog_imgs/journal_levels.png alt="Journalctl levels"></p><p><strong>Journalctl</strong> views the changing reality of your system in eight categories.</p><p>This mindset is called <strong>structured logging</strong>, and it&rsquo;s worth adopting.</p><p>Usually, when we log something in an application, we think of it as a simple statement—perhaps noting an error or confirming that execution was successful.</p><p>Some of us, especially more advanced users, add timestamps and exit codes to the logging architecture.</p><p>That&rsquo;s good, but there&rsquo;s one issue: it’s really hard to know what is what.</p><p><em>Is it a warning, an error, or maybe a notice that I have to change my configuration?</em></p><p>As the log grows, it becomes even harder to search for errors or alerts.</p><p>That’s why people use packages like <a href=https://pkg.go.dev/log/slog>log/slog</a> to make the logging searchable and manageable.</p><p>Remember that structured logs <strong>can be parsed in any format</strong>.</p><p>If you don&rsquo;t like JSON, no problem—there&rsquo;s XML or even a CSV version.</p><p>To search for a particular priority in <strong>journalctl</strong>, we use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>-p or --priority<span class=o>=</span>number
</span></span></code></pre></div><p>Of course, you can search for multiple priorities with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl -p 4..6
</span></span></code></pre></div><p>Most components of our computers are <strong>units</strong>.</p><p>We can usually add the <strong>-u</strong> flag, or since <code>systemd</code> is the parent of all processes, we can use filters by <strong>UID</strong>, <strong>GID</strong>, or <strong>PID</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl <span class=nv>_PID</span><span class=o>=</span><span class=m>1234</span>
</span></span></code></pre></div><p>This structured approach allows you to quickly filter and find specific types of log messages, making system administration more efficient.</p><h3 id=we-are-surrounded-by-sessions>We Are Surrounded by Sessions<a hidden class=anchor aria-hidden=true href=#we-are-surrounded-by-sessions>#</a></h3><p><img loading=lazy src=/blog_imgs/seesion.png alt="Session picutre"></p><p>Yoga sessions, therapy sessions, browser sessions , sessions are everywhere. journalctl is no exception; it keeps things real with its <strong>boot session</strong></p><p>To list them, just type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl --list-boots
</span></span></code></pre></div><p>Number <strong>0</strong> is the <strong>current boot session</strong> (<em>a small tribute to programmers</em>).</p><p>To pick a specific boot session, you can use the <strong>-b</strong> flag followed by the boot number.</p><p>For example, to view the logs from the previous boot session, you can use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>journalctl -b -1
</span></span></code></pre></div><p>But <strong>journalctl</strong> isn&rsquo;t alone; there are many more journalists among us&mldr;</p><h3 id=who-watches-last-lastb-somebodys-watching-me>Who Watches Last, Lastb? Somebody’s Watching Me?<a hidden class=anchor aria-hidden=true href=#who-watches-last-lastb-somebodys-watching-me>#</a></h3><p><img loading=lazy src=/blog_imgs/somboeiesWatching.jpg alt="Somebodys watching singer "></p><p>I always feel like <a href="https://www.youtube.com/watch?v=7YvAYIJSSZY">Somebody&rsquo;s Watching Me&mldr;</a></p><p>Such a good tune, truly a fan. But back to the point.</p><p>Have you ever wondered how to check the first time you successfully logged into the system? I bet you don&rsquo;t me neither.</p><p>Usually, we skip the successful logins because we live in a single-user environment, meaning if somebody logged in successfully, it should be us.</p><p>But we forget that these files don&rsquo;t only check for logging into the system.</p><p>They check for any other login protocols like <em>SSH, RDP, VNC,</em> you name it. Sometimes, we forget to set up the password and a simple <strong>ssh-copy-id</strong> on our local network might be devastating.</p><p>That&rsquo;s why it&rsquo;s useful to check from time to time to ensure we are alone.</p><p>However, if we set up everything properly in terms of security—authentication, password, etc.—or we have a server, there&rsquo;s <strong>lastb</strong> that comes in handy. Can you guess what it does? Usually, the Linux commands are pretty self-explanatory, but I had a hard time memorizing this one.</p><p>The answer: it logs the failed logins to the system. What&rsquo;s interesting is you can&rsquo;t view this command without sudo (unlike <strong>last</strong>).</p><p>To check successful logins, use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>last
</span></span></code></pre></div><p>To check failed login attempts, use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo lastb
</span></span></code></pre></div><h3 id=all-of-us-are-peeping-toms-somewhere-deep-down>All of Us Are Peeping Toms Somewhere Deep Down<a hidden class=anchor aria-hidden=true href=#all-of-us-are-peeping-toms-somewhere-deep-down>#</a></h3><p><img loading=lazy src=/blog_imgs/peeping.png alt="Pair peeping on friends"></p><p>That&rsquo;s why the <strong>w</strong> command was invented.</p><p>It lets us see what users are doing on our system in real-time. What&rsquo;s funny is you can use <strong>watch w</strong> to get real-time updates.</p><p><strong>So many watchers!</strong></p><p>If you don&rsquo;t have enough, there&rsquo;s also a program called <a href=https://github.com/qrichert/WoWatch>whowatch</a> which not only displays what the user is doing but also lets you kill the processes they run in real-time.</p><p>Unfortunately, it&rsquo;s a bit outdated the last commit was <em>two years ago</em></p><p>(<em>I&rsquo;m already thinking of rewriting this in Go since it&rsquo;s such a nice feature for sysadmins</em>).</p><p>So, if you want to mess up a 3-hour download of somebody&rsquo;s game, feel free&mldr;</p><p>To see what users are doing, use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>w
</span></span></code></pre></div><p>To get real-time updates, use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>watch w
</span></span></code></pre></div><p>To use <strong>whowatch</strong>, which might need to be installed first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install whowatch
</span></span><span class=line><span class=cl>whowatch
</span></span></code></pre></div><h3 id=logs-are-everywhere-you-just-have-to-reach-for-them>Logs Are Everywhere, You Just Have to Reach for Them<a hidden class=anchor aria-hidden=true href=#logs-are-everywhere-you-just-have-to-reach-for-them>#</a></h3><p><img loading=lazy src=/blog_imgs/what_doesThe_log_say.png alt="What does the log say"></p><p>Unfortunately, in the Linux world, we tend to skip any form of reading logs because it&rsquo;s much simpler and quicker to create a new machine or to format it than to traverse through the logs. But this is the wrong way of thinking.</p><p>It completely falls short when it comes to future problem-solving abilities. We just run from the problem.</p><p>It&rsquo;s important to know that when you understand how the logs work and you try it, you gain something that is priceless. You truly know what&rsquo;s going on with your system.</p><p>This means there <em>won&rsquo;t be any missing patches or broken processes</em> that an attacker can use against you. There won&rsquo;t be any random crashes or kernel issues.</p><p><strong>Your system will be completely stable.</strong></p><p>And trust me, stability in the time we live in is invaluable.</p><p>I don&rsquo;t have a story about catching someone red-handed trying to break into my system</p><p>(<em>although I recently saw a cool project about creating an easy <a href=https://github.com/ryanolee/go-pot>web honeypot</a> and catching bots in Go and really want to try it</em>).</p><p>But I remember when I struggled with the Qtile configuration, trying to get it right, constantly killing it, changing the code, and logging in</p><p>it was a nightmare.</p><p>Eventually, I left this and never came back, but there was a remedy for this. All I had to do was to read the Qtile log file at <em>~/.local/share/qtile/qtile.log</em>, and I would have known what I messed up.</p><h3 id=to-sum-up>To Sum Up<a hidden class=anchor aria-hidden=true href=#to-sum-up>#</a></h3><p>Logging doesn&rsquo;t have to be scary (despite Microsoft demonizing it). I hope I convinced you to at least try it for fun with <strong>whowatch</strong> or to explore how programmers design their logs. Sometimes it might be hard to keep track of everything, I know this. In the next post, I will try to show you that you can make it far easier by creating audits.</p><p>But for now, peace out and remember: <strong>journalct</strong> is the only journal worth reading.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/posts/the_gold_is_in_the_block/><span class=title>« Prev</span><br><span>the_gold_is_in_the_block</span>
</a><a class=next href=http://localhost:1313/posts/posts/the_world_doesn_t_end_with_scripting/><span class=title>Next »</span><br><span>the_world_doesn_t_end_with_scripting</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>ExampleSite</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>